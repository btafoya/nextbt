@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --color-primary: #3b82f6;
    --color-secondary: #10b981;
    --color-meta-7: #ef4444;
    --color-stroke: #e5e7eb;
    --color-gray-2: #f9fafb;
  }

  .dark {
    --color-primary: #60a5fa;
    --color-secondary: #34d399;
    --color-meta-7: #f87171;
    --color-stroke: #374151;
    --color-gray-2: #1f2937;
  }

  /* Mobile-first base font size for better readability */
  html {
    font-size: 16px; /* Ensures minimum 16px on mobile */
  }

  body {
    @apply bg-white text-gray-900 antialiased;
  }

  .dark body {
    @apply bg-boxdark-2 text-gray-100;
  }

  /* Responsive heading scales */
  h1 {
    @apply text-xl lg:text-3xl;
  }

  h2 {
    @apply text-lg lg:text-2xl;
  }

  h3 {
    @apply text-base lg:text-xl;
  }
}

@layer components {
  .card {
    @apply rounded-lg bg-white shadow-md dark:bg-gray-800;
  }

  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 min-h-[44px];
  }

  .btn-primary {
    @apply bg-primary text-white hover:bg-primary/90;
  }

  .btn-secondary {
    @apply bg-secondary text-white hover:bg-secondary/90;
  }

  .btn-danger {
    @apply bg-meta-7 text-white hover:bg-meta-7/90;
  }

  .form-input {
    @apply w-full rounded-lg border border-stroke bg-transparent px-4 py-2 text-gray-900 outline-none focus:border-primary dark:border-gray-700 dark:bg-gray-800 dark:text-white min-h-[44px] text-base;
  }

  .form-label {
    @apply mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium;
  }

  .badge-success {
    @apply bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200;
  }

  .badge-warning {
    @apply bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200;
  }

  .badge-danger {
    @apply bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200;
  }

  .badge-info {
    @apply bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200;
  }
}

.ProseMirror {
  @apply min-h-[200px] rounded-lg border border-stroke bg-white p-4 text-gray-900 focus:border-primary focus:outline-none dark:border-strokedark dark:bg-boxdark dark:text-white;
}

.ProseMirror p.is-editor-empty:first-child::before {
  @apply text-gray-400 dark:text-gray-500;
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

.sidebar {
  @apply fixed left-0 top-0 z-50 flex h-screen w-72 flex-col overflow-y-auto bg-white shadow-xl dark:bg-boxdark;
  /* Hide sidebar on mobile/tablet, show on desktop */
  @apply hidden lg:flex;
}

.sidebar-nav-item {
  @apply flex items-center gap-3 rounded-lg px-4 py-2.5 text-gray-700 transition-colors hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-meta-4;
  /* Touch-optimized minimum height */
  @apply min-h-[44px];
}

.sidebar-nav-item.active {
  @apply bg-primary text-white hover:bg-primary/90 dark:bg-primary dark:hover:bg-primary/90;
}

/* Mobile-specific utilities */
@layer utilities {
  /* Add bottom padding for mobile navigation */
  .pb-mobile-nav {
    @apply pb-20 lg:pb-0;
  }

  /* Touch-optimized button minimum sizes */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
}

/* Safe area insets for iOS notch and home indicator */
@supports (padding: max(0px)) {
  .safe-area-inset-bottom {
    padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
  }

  .safe-area-inset-top {
    padding-top: max(0.5rem, env(safe-area-inset-top));
  }
}

/* Touch-optimized scrolling */
* {
  -webkit-overflow-scrolling: touch;
}

/* Disable text selection on UI elements for better touch experience */
button,
a,
.no-select {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  user-select: none;
}

/* Ensure text inputs allow selection */
input,
textarea,
[contenteditable] {
  user-select: text;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}